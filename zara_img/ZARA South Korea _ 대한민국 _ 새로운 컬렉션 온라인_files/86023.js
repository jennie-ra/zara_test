"use strict";(globalThis.__LOADABLE_LOADED_CHUNKS__=globalThis.__LOADABLE_LOADED_CHUNKS__||[]).push([[86023],{44346:(e,t,a)=>{var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{serverCategory:t}=e;const a=(0,l.useLocation)();return{state:{currentCategory:(0,n.useMemo)((()=>{if(!t)return;const e=new URLSearchParams(a.search),r=e.get("ex01");return r?s(s({},t),{},{id:parseInt(r,10),seo:s(s({},t.seo),{},{seoCategoryId:parseInt(e.get("ex02"),10)})}):t}),[t,a])}}};var o=r(a(59713)),n=a(75418),l=a(99964);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},96037:(e,t,a)=>{var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getCategoryUrl=t.getCategorySeoUrl=t.default=void 0;var o=r(a(67154)),n=r(a(6479)),l=r(a(75418)),i=a(36259),s=a(36340),c=r(a(92533));const u=["category","onCategoryClicked","className","styles","children","dataQaAction","isSeo"],d=e=>{const t=(0,i.generateCategoryUrl)(e,!0),a=t.includes("?")?"&":"?",r=e.redirectCategoryId&&e.redirectCategoryId>0?e.redirectCategoryId:e.id,o=(0,s.getRegionGroup)(),n=null!=o&&o.id?"&regionGroupId=".concat(o.id):"",l="v1=".concat(r).concat(n);return"".concat(t).concat(a).concat(l)};t.getCategoryUrl=d;const f=e=>e.irrelevant?null:(0,i.generateCategoryUrl)(e,!0);t.getCategorySeoUrl=f;t.default=function(e){let{category:t,onCategoryClicked:a,className:r,styles:i,children:s,dataQaAction:g,isSeo:y=!0}=e,p=(0,n.default)(e,u);return l.default.createElement(c.default,(0,o.default)({className:r,onClick:e=>null==a?void 0:a(e,t,[]),seoUrl:y?f(t):null,getUrl:()=>d(t),style:i,"data-qa-action":g},p),s)}},90710:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isDisplayOpenCategory=t.getDisplayOpenIdsByUniverse=void 0;const a=e=>!(!e.attributes.displayOpen||!e.hasSubcategories||e.attributes.hasAllSubcategoriesHidden);t.isDisplayOpenCategory=a;const r=function e(){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find(a);return r?[...t,r.id,...e(r.subcategories)]:t};t.getDisplayOpenIdsByUniverse=e=>e.reduce(((e,t)=>(e[t.id]=r(t.subcategories),e)),{})},54560:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=(e,t)=>{var a,r;const o=(null==t||null===(a=t.seo)||void 0===a||null===(r=a.breadCrumb)||void 0===r?void 0:r.map((e=>{let{id:t}=e;return t})))||[],n=((e,t)=>{if(!e.length||!t.length)return-1;const a=e.map((e=>e.id));for(let e=t.length-1;e>=0;e--){const r=t[e];if(a.includes(r))return t.indexOf(r)}return-1})(e,o);return-1!==n?o.slice(n):o}},94081:(e,t)=>{function a(e,t){return e.find((e=>e.id===t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function e(t,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(0===t.length)return[];const n=a(t,r);if(n)return[...o,n];let l=[];return t.forEach((t=>{const n=e(t.subcategories,r,[...o,t]);a(n,r)&&(l=n)})),l}},43633:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(19350),o=a(259),n=a(8381);t.default=(e,t,a)=>{if(a){const t=e.findIndex((e=>e.sectionName===a));if(-1!==t)return t}const l=(0,r.retrieve)(o.localStorage.LAST_NAVIGATED_ROOT_CATEGORY_ID),i=t[0];let s=e.findIndex((e=>e.id===l&&e.isSelected));if(-1===s&&(s=e.findIndex((e=>e.id===i))),-1!==s)return s;let c=e.findIndex((e=>e.isSelected));if(-1!==c)return c;const u=(0,n.getPreferredSection)(),d=e.findIndex((e=>e.sectionName===u));return-1!==d?d:0}},10851:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function e(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=t.find((e=>e.isSelected||a.includes(e.id)));return r?r.hasSubcategories?[r.id,...e(r.subcategories,a)]:[r.id]:[]}},33661:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const a=e=>e.hasSubcategories&&!e.attributes.hasAllSubcategoriesHidden,r=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(0===a.length)return o;const n=a.find((e=>t[r]===e.id));return n?e(t,n.subcategories||[],r+1,[...o,n]):o};t.default=(e,t)=>r(e,t).reverse().find(a)},4782:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=e=>{let{category:t,expandedCategoryId:a}=e;if(t.id===a)return!1;const{attributes:r}=t;return!r.showSubcategories&&(!t.hasSubcategories||r.hasAllSubcategoriesHidden||r.mustDisplayContent)}},15350:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=e=>{const t={};return e.letterSpacing&&(t.letterSpacing="".concat(e.letterSpacing,"px")),e.isUnderlined&&(t.textDecoration="underline"),e.isItalics&&(t.fontStyle="italic"),e.isBold&&(t.fontWeight="var(--font-weight-medium)"),t}},69797:(e,t,a)=>{var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t={},a=e.backgroundColor?(0,o.default)(e.backgroundColor):null;a&&(t.backgroundColor=a);e.color&&(t.color=e.color);return t};var o=r(a(47559))},47559:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const a="".concat(e).match(4===e.length?/^#([0-9A-F])([0-9A-F])([0-9A-F])$/i:/^#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i);if(a){const[r,o,n]=a.slice(1,4).map((t=>parseInt("0x".concat(4===e.length?t+t:t),16)));return"rgba(".concat(r,", ").concat(o,", ").concat(n,", ").concat(t,")")}return null}},96337:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const a=e=>{var t;const r=null===(t=e.parentElement)||void 0===t?void 0:t.closest("ul");return r?a(r):e};t.default=e=>{if(!e)return;const t=a(e.parentElement),r=e.offsetTop-t.scrollTop>=t.offsetHeight/2;if(e.offsetTop<=t.scrollTop||r){const a=parseInt((o="--spacing-08",window.getComputedStyle(document.documentElement).getPropertyValue(o)),10)||40;t.scrollTop=e.offsetTop-a}var o}},56888:(e,t,a)=>{var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(a(75418)),n=r(a(86010)),l=r(a(60150));a(82538);t.default=e=>{let{mount:t,onEntered:a,onExited:r,className:i,children:s}=e;const{state:{animate:c,mounted:u},actions:{onTransitionEnd:d}}=(0,l.default)({mount:t,callbacks:{onEntered:a,onExited:r}});return u?o.default.createElement("div",{onTransitionEnd:d,className:(0,n.default)("layout-categories-category-animation",i,{"layout-categories-category-animation--animate":c})},s):null}},60150:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(75418);t.default=e=>{let{mount:t,callbacks:a}=e;const[o,n]=(0,r.useState)(!1),[l,i]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{t?(i(!0),window.requestAnimationFrame((()=>{n(!0)}))):n(!1)}),[t]),{state:{animate:o,mounted:l},actions:{onTransitionEnd:()=>{t||o||i(!1),t||o||!a.onExited||a.onExited(),t&&o&&a.onEntered&&a.onEntered()}}}}},87293:(e,t,a)=>{var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var l=o?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n]}return r.default=e,a&&a.set(e,r),r}(a(75418)),n=r(a(86010)),l=r(a(96037)),i=r(a(17354)),s=r(a(82368)),c=r(a(56888)),u=r(a(31460)),d=r(a(84421)),f=a(69315),g=a(90710),y=r(a(4782)),p=r(a(69797)),v=r(a(15350)),m=r(a(96337));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}a(99515);var b=function(e){return o.default.createElement("svg",e,o.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 12.5H5v-1h14v1z"}))};b.defaultProps={width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"inherit",stroke:"inherit"};const E=e=>{var t;let{category:a,expandedCategoryId:r,visibleCategories:_,level:h,as:C="li",onCategoryClicked:O,isSeo:N,isParentCategoryOpen:S,renderSubcategories:I=!0}=e;const{attributes:M,id:P,styles:k={},name:j="",seo:w}=a,[D]=_,A=_.slice(1,_.indexOf(r)+1).includes(P),{state:{isIconVisible:T,isImageVisible:U},actions:{onIconError:x,onImageError:R}}=(0,u.default)({styles:k}),L=(0,o.useRef)(),B=_.includes(P),F=1===h?D===P:B&&S,{state:{isMenuOpen:H}}=(0,f.useLayout)();(0,d.default)({element:L.current,enabled:1===h&&F,isMenuOpen:H});const V=P===r&&S&&!(0,g.isDisplayOpenCategory)(a)&&H;if(M.isDivider)return o.default.createElement(C,{className:"layout-categories-category__divider",role:"separator","aria-hidden":"true"});if(M.isLineBreak)return o.default.createElement(C,{className:"layout-categories-category__line-break",role:"separator","aria-hidden":"true"});if(M.isTitle)return o.default.createElement(C,{className:"layout-categories-category"},o.default.createElement("h2",{className:(0,n.default)("layout-categories-category__name","layout-categories-category__link",{["layout-categories-category__name--".concat(k.font)]:k.font}),style:(0,v.default)(k)},j));const G=(0,p.default)(k),W=G.backgroundColor;return o.default.createElement(C,{className:(0,n.default)("layout-categories-category","layout-categories-category--level-".concat(h),{"layout-categories-category--expanded":A,"layout-categories-category--highlighted":F,"layout-categories-category--hidden-in-pro":M.isHiddenPro,"layout-categories-category--seo-hidden":null===(t=a.seo)||void 0===t?void 0:t.isHiddenInMenu,"layout-categories-category--accessible":M.isAccessible,"layout-categories-category--has-background":G.backgroundColor}),style:W?{backgroundColor:G.backgroundColor}:void 0,"data-categoryid":P,"data-seocategoryid":w?w.seoCategoryId:"","data-layout":a.layout,"data-isredirected":!!a.isRedirected,"data-qa-qualifier":"category-level-".concat(h),ref:L},o.default.createElement(l.default,{className:(0,n.default)("layout-categories-category__link",{"layout-categories-category__link--with-icon":T}),styles:G,category:a,onCategoryClicked:O,dataQaAction:"unfold-category",isSeo:N||S,draggable:!1,"aria-expanded":!!(A||1===h&&D===P)||void 0,role:(0,y.default)({category:a,expandedCategoryId:r})?void 0:"button"},U?o.default.createElement(i.default,{path:k.imageUrl,alt:j,className:"layout-categories-category__image",onError:R}):o.default.createElement(o.default.Fragment,null,o.default.createElement("span",{className:(0,n.default)("layout-categories-category__name",{["layout-categories-category__name--".concat(k.font)]:k.font}),style:(0,v.default)(k)},j),a.shortDescription&&o.default.createElement(o.default.Fragment,null,o.default.createElement("span",{className:"layout-categories-category__separator"}," | "),o.default.createElement("span",{className:"layout-categories-category__short-description"},a.shortDescription))),T&&"Â ",M.displaySeparately&&o.default.createElement("span",{className:"layout-categories-category__suffix"},M.displaySeparately),T&&o.default.createElement(i.default,{path:k.iconUrl,className:"layout-categories-category__icon",onError:x}),k.tag&&o.default.createElement("span",{className:(0,n.default)("layout-categories-category__tag",{["layout-categories-category__tag--".concat(k.tag.position)]:k.tag.position}),style:{color:k.tag.color}},k.tag.text),A&&o.default.createElement(b,{className:"layout-categories-category__close-icon"})),I&&a.hasSubcategories&&o.default.createElement(c.default,{mount:B,className:"layout-categories-category__subcategory-animation-wrapper",onEntered:()=>V&&(0,m.default)(L.current)},o.default.createElement("ul",{className:(0,n.default)("layout-categories-category__subcategory",{"layout-categories-category__subcategory--all-hidden":M.hasAllSubcategoriesHidden})},a.subcategories.map((e=>o.default.createElement(E,{key:e.id,category:e,expandedCategoryId:r,onCategoryClicked:(e,t,r)=>{O(e,t,[a,...r])},visibleCategories:_,level:h+1,isSeo:N,isParentCategoryOpen:!0}))))),I&&a.hasSubcategories&&!B&&N&&o.default.createElement("ul",{className:"layout-categories-category__subcategory layout-categories-category__subcategory--hidden"},a.subcategories.map((e=>o.default.createElement(s.default,{key:e.id,category:e})))))};t.default=o.default.memo(E)},82368:(e,t,a)=>{var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(a(75418)),n=r(a(86851)),l=a(36259);const i=e=>{let{category:t}=e;const{name:a,shortDescription:r,hasSubcategories:s,subcategories:c,irrelevant:u}=t;return o.default.createElement(o.default.Fragment,null,o.default.createElement("li",null,o.default.createElement(n.default,!u&&{href:(0,l.generateCategoryUrl)(t,!0)},a||"",r&&" | ".concat(r))),s&&o.default.createElement("ul",null,c.map((e=>o.default.createElement(i,{key:e.id,category:e})))))};t.default=o.default.memo(i)},31460:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(75418);t.default=e=>{let{styles:t}=e;const[a,o]=(0,r.useState)(!!t.imageUrl),[n,l]=(0,r.useState)(!a&&!!t.iconUrl);return{state:{isIconVisible:n,isImageVisible:a},actions:{onIconError:()=>{l(!1)},onImageError:()=>{o(!1),l(!!t.iconUrl)}}}}},84421:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(75418);let o=!1;t.default=function(e){let{element:t,enabled:a,isMenuOpen:n}=e;(0,r.useEffect)((()=>{a&&t&&(n&&!o&&(t.scrollIntoView({inline:"center",block:"nearest"}),o=!0),n||(o=!1))}),[a,t,n])}},7238:(e,t,a)=>{var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(a(75418)),n=a(81472);const l=o.default.forwardRef(((e,t)=>{let{className:a,style:r,hydrate:l,as:i="ul",children:s}=e;const c=(0,n.animated)(i);return l?o.default.createElement(c,{ref:t,className:a,style:r},s):o.default.createElement(c,{ref:t,className:a,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:""}})}));l.displayName="LayoutCategoriesRoot";t.default=l},86023:(e,t,a)=>{var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var l=o?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n]}return r.default=e,a&&a.set(e,r),r}(a(75418)),n=r(a(86010)),l=a(97934),i=r(a(7238)),s=r(a(87293)),c=r(a(44346)),u=a(99964),d=a(99964),f=r(a(51520)),g=r(a(8645));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}a(56486);t.default=o.default.memo((e=>{let{categories:t,currentCategory:a,isSeo:r,waitToLoadCategories:y,onUniverseChanged:p,forcedSectionName:v,couldLoadCategories:m}=e;const _=(0,o.useRef)(null),b=(0,o.useRef)(null),{isMobile:E}=(0,u.useDevice)(),{store:h}=(0,d.useAppConfig)(),{state:{currentCategory:C}}=(0,c.default)({serverCategory:a}),{state:{enabled:O},actions:{onAnimationEnd:N}}=(0,g.default)(),{state:{categories:S,visibleCategories:I,expandedCategoryId:M},actions:{onCategoryClicked:P,onCarouselSliderMove:k}}=(0,f.default)({serverCategories:t,currentCategory:C,navEl:b,carouselRef:_,waitToLoadCategories:y,onUniverseChanged:p,forcedSectionName:v,couldLoadCategories:m}),j=o.default.useMemo((()=>h.isOpenForSale?S:S.filter((e=>!e.attributes.hideInNoSalesStores))),[S,h.isOpenForSale]),[w]=I;return o.default.createElement("nav",{className:"layout-categories","data-qa-action":"close-sidebar-on-click-outside",ref:b},o.default.createElement(i.default,{as:"div",hydrate:S.length>0},o.default.createElement(l.NavRow,{as:"div",variant:l.NavRow.Variants.LABEL,value:w,disableActiveItemAria:!0,className:"layout-categories__container",listClassName:"layout-categories__container-list",scrollInline:l.NavRow.ScrollVariants.CENTER,scrollMode:l.NavRow.ScrollMode.IF_NEEDED},j.map((e=>o.default.createElement(l.NavRow.Item,{value:e.id,className:"layout-categories__container-item--level-1",as:"div",key:e.id},o.default.createElement(s.default,{as:"div",category:e,onCategoryClicked:P,visibleCategories:I,renderSubcategories:!1,level:1,isSeo:!0})))))),o.default.createElement(i.default,{hydrate:S.length>0,as:"div",className:"layout-categories__carousel"},o.default.createElement(l.Carousel,{plugins:[l.Carousel.Plugins.snap],ref:_,onSliderMove:k,disableSwipe:!E},o.default.createElement(l.Carousel.Items,{onAnimationEnd:N,className:(0,n.default)({"layout-categories-category__carousel-items-animation":O})},j.map((e=>o.default.createElement(l.Carousel.Item,{key:e.id,className:"layout-categories__carousel-item"},o.default.createElement("ul",{className:"layout-categories-category__subcategory-main"},e.subcategories.map((t=>o.default.createElement(s.default,{key:t.id,category:t,expandedCategoryId:M,onCategoryClicked:(t,a,r)=>P(t,a,[e,...r]),visibleCategories:I,level:2,isSeo:r,isParentCategoryOpen:I.includes(e.id)})))))))))))}))},8645:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(75418);let o=!0;t.default=()=>{const[e,t]=(0,r.useState)(o);return{actions:{onAnimationEnd:()=>{o=!1,t(o)}},state:{enabled:e}}}},51520:(e,t,a)=>{var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(75418),n=a(66235),l=a(19350),i=a(259),s=a(28610),c=a(36259),u=a(6185),d=a(48450),f=a(8381),g=a(79559),y=a(69315),p=r(a(51593)),v=r(a(43633)),m=r(a(54560)),_=r(a(94081)),b=r(a(33661)),E=r(a(10851)),h=r(a(4782)),C=a(90710);const O=(e,t)=>{(0,s.trigger)(s.types.CATEGORY_CHANGE_REQUESTED,{categoryName:e.name,rootCategoryName:t.name})},N=e=>{(0,l.store)(i.localStorage.LAST_NAVIGATED_ROOT_CATEGORY_ID,e.id,{ttl:"session"})},S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{setDisplayOpen:!0,displayOpenIds:[]};const[r,...o]=e,n=(0,b.default)(e,t),{setDisplayOpen:l,displayOpenIds:i=[]}=a;return(null==n?void 0:n.id)===r&&l?[r,...i,...o]:e};t.default=e=>{let{serverCategories:t,currentCategory:a,waitToLoadCategories:r,onUniverseChanged:l,navEl:i,carouselRef:I,forcedSectionName:M,couldLoadCategories:P}=e;const{actions:{openMenu:k,closeMenu:j}}=(0,y.useLayout)(),[w,D]=(0,o.useState)(t),A=(0,o.useRef)(0),[T,U]=(0,o.useState)((0,E.default)(w,(0,m.default)(w,a))),x=(0,o.useRef)((0,C.getDisplayOpenIdsByUniverse)(w)),R=(0,o.useMemo)((()=>{var e;return null===(e=(0,b.default)(T,w))||void 0===e?void 0:e.id}),[T,w]),L=(e,t)=>{const a=t.map((e=>e.id)),r=T.includes(e.id)&&0!==t.length,o=r?a:[...a,e.id],n=1===e.menuLevel?e.id:a[0];return S(o,w,{setDisplayOpen:!r,displayOpenIds:x.current[n]})},B=function(e){let{slideToUniverse:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=(0,p.default)(e,0,w.length-1);var r;(A.current!==a&&U(L(w[a],[])),A.current=a,t)&&(null===(r=I.current)||void 0===r||r.slideTo(a,250));l&&l(w[a].sectionName)},F=(0,o.useCallback)(((e,t,a)=>{if((0,h.default)({category:t,expandedCategoryId:R}))return N(a[0]||t),(0,f.updatePromotedSectionInfo)(t.sectionName,t.subsectionName),void((e,t)=>{const{name:a,layout:r}=e,o=(0,c.getTargetCategory)(e);O(e,t[0]||e),(0,s.trigger)(s.types.MENU_CLICK,{id:o.id,layout:r,linkName:a,routeMenu:t.map((e=>e.name)),sectionName:o.sectionName})})(t,a);e.preventDefault(),0===a.length&&(A.current=w.findIndex((e=>e.id===t.id)),(0,s.trigger)(s.types.MENU,{section:t.sectionName}));const r=L(t,a);U(r)}),[T,w,R]);return(0,o.useEffect)((()=>{const e="load-categories-request",t=()=>{(0,s.off)(e),(0,g.getCategories)(a).then((e=>{let{categories:t}=e;(0,n.unstable_batchedUpdates)((()=>{if(D(t),x.current=(0,C.getDisplayOpenIdsByUniverse)(t),0===t.length)return;const e=(0,m.default)(t,a),r=(0,v.default)(t,e,M);A.current=r;const o=t[r],{id:n,subcategories:l}=o,i=[n,...(0,E.default)(l,e)],s=S(i,t,{setDisplayOpen:!0,displayOpenIds:x.current[n]});U(s)}))}))};return r?P&&t():t(),()=>(0,s.off)(e)}),[P]),(0,o.useEffect)((()=>{const e="use-layout-categories-effect";return(0,s.on)(s.types.MENU_ITEM_SELECTION_REQUESTED,(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!w.length)return!1;if(e.category){const t=(0,_.default)(w,e.category.id),a=t[t.length-1];let r=(0,c.generateCategoryUrl)(a||e.category,!1);if(e.initialBlockId&&(r=(0,u.addParamsToUrl)(r,{initialBlockId:e.initialBlockId})),!a)return(0,f.updatePromotedSectionInfo)(e.category.sectionName,e.category.subsectionName),(0,d.navTo)(r);if((0,h.default)({category:a}))return O(a,t[0]),(0,f.updatePromotedSectionInfo)(a.sectionName,a.subsectionName),(0,d.navTo)(r);const o=w.findIndex((e=>e.id===t[0].id));A.current=o,U([...t.map((e=>e.id)),...(0,E.default)(a.subcategories||[],(0,m.default)(w,e.category))])}else if(e.universe){const t=w.findIndex((t=>t.sectionName===e.universe.sectionName));if(-1!==t){const e=w[t],{id:a,subcategories:r}=e;N(e),A.current=t;const o=[a,...(0,E.default)(r)],n=S(o,w,{setDisplayOpen:!0,displayOpenIds:x.current[a]});U(n)}}e.avoidMenuOpening||k()}),{origin:e}),()=>(0,s.off)(e)}),[w,k]),(0,o.useEffect)((()=>{if(null==a||!a.id||0===w.length)return;const e=(0,m.default)(w,a),t=(0,v.default)(w,e,M),{id:r,subcategories:o}=w[t],n=(0,_.default)(o,a.id).map((e=>e.id)),l=n.length>0?[r,...n]:e,[i]=l;A.current=w.findIndex((e=>e.id===i));const s=S(l,w,{setDisplayOpen:!0,displayOpenIds:x.current[i]});U(s)}),[a,w,x,M,j]),(0,o.useEffect)((()=>{w.length>0&&B(A.current,{slideToUniverse:!0})}),[A.current,w]),(0,o.useEffect)((()=>{j()}),[a,j]),(0,o.useEffect)((()=>{var e;const t=null===(e=w[A.current])||void 0===e?void 0:e.sectionName;t&&(0,s.trigger)(s.types.SET_SECTION_NAME,{sectionName:t})}),[A.current,w]),(0,o.useEffect)((()=>{const e=new ResizeObserver((()=>{var e;null===(e=I.current)||void 0===e||e.slideTo(A.current,0)}));return e.observe(i.current),()=>e.disconnect()}),[]),{actions:{onCategoryClicked:F,onCarouselSliderMove:()=>{const e=(0,p.default)(I.current.activeIdx,0,w.length-1);A.current!==e&&((0,s.trigger)(s.types.MENU,{section:w[e].sectionName}),B(e))}},state:{categories:w,visibleCategories:T,expandedCategoryId:R}}}},17354:(e,t,a)=>{var r=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(a(75418)),n=a(99964),l=r(a(61882));t.default=e=>{let{path:t,className:a,alt:r,title:i,onError:s}=e;const{imageBaseUrl:c}=(0,n.useAppConfig)();return o.default.createElement(l.default,{src:"".concat(c).concat(t),className:a,alt:r,title:i,onError:s})}},82538:(e,t,a)=>{a.r(t)},99515:(e,t,a)=>{a.r(t)},56486:(e,t,a)=>{a.r(t)}}]);